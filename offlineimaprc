[general]
metadata = ~/msg/.offlineimap
accounts = fastmail
pythonfile = ~/bin/offlineimap-helpers.py

[Account fastmail]
localrepository = fastmail-local
remoterepository = fastmail-remote
autorefresh = 2
quick = 5
status_backend = sqlite
postsynchook = ~/bin/post-mail-hooks.sh

[Repository fastmail-local]
type = Maildir
localfolders = ~/msg
sep = /
nametrans = local_to_remote

[Repository fastmail-remote]
type = IMAP
remotehost = mail.messagingengine.com
ssl = yes
sslcacertfile = /etc/ssl/certs/ca-certificates.crt
remoteuser = felixc@felixcrux.com
remotepasseval = get_password()
idlefolders = ['INBOX']
nametrans = remote_to_local
folderfilter = lambda folder: folder not in ['INBOX.Junk Mail']

[mbnames]
enabled = yes
filename = ~/.mutt/mailboxes
header = "mailboxes "
peritem = "=%(foldername)s"
sep = " \\\n          "
footer = "\n"
